# Core LLM configuration
OPENAI_API_KEY=
# NOTE: Model selection is configured per project via `AI_PROJECT_ROOT/ai/LLM_PROFILES.json` and agent `llm_profile`.
# There is NO env/default fallback model for agent execution.

# Project root selection (project-scoped state lives under AI_PROJECT_ROOT/ai/)
# Preferred variable for all CLI runs:
AI_PROJECT_ROOT=/opt/AI-Projects/tms
# Alias used by the Web UI and some scripts; cli.js maps PROJECT_ROOT -> AI_PROJECT_ROOT if AI_PROJECT_ROOT not set.
PROJECT_ROOT=/opt/AI-Projects/tms
# Optional: explicit env file path loaded before default resolution.
DOTENV_CONFIG_PATH=

# Onboarding / registry defaults (optional)
# Root folder used by `--initial-project` when not provided interactively.
AI_TEAM_PROJECTS_ROOT=/opt/AI-Projects
# Override global REGISTRY.json directory (default: <AI_TEAM_REPO>/ai/registry).
AI_TEAM_REGISTRY_DIR=
# Default onboarding source for project knowledge repo (git URL or local path).
AI_TEAM_KNOWLEDGE_REPO_PATH=
# Default onboarding sources for code repos (comma-separated git URLs/paths).
AI_TEAM_CODE_REPO_PATHS=
# Optional knowledge git defaults used by onboarding.
KNOWLEDGE_GIT_REMOTE=
KNOWLEDGE_GIT_BRANCH=main

# Deterministic test stubs (for CI/unit tests; leave empty in production)
# Values: timeout | triage_ok | ok_proposal_invalid_patchplan_cwd | ok_proposal_invalid_patchplan_path
AI_TEAM_LLM_STUB=

# Intake Assistant v0
# HTTP port for the intake server (src/intake/server.js)
INTAKE_PORT=8787
# Shared secret required to call intake endpoints
INTAKE_AUTH_TOKEN=Th!s1s@V3ryStr0n9P@ss
# If true, intake server may auto-run sweep after accepting intake
INTAKE_AUTO_SWEEP=false

# Notifications
# stub | plivo | twilio
NOTIFY_PROVIDER=stub
# Destination phone number (E.164) for notifications (if provider supports it)
NOTIFY_TO=+15551234567

# Reviewer/Architect Agent (disabled by default)
# Enable the reviewer stage (if your workflow uses it)
REVIEWER_ENABLED=false
# NOTE: Reviewer model is selected via `ai/LLM_PROFILES.json` + reviewer agent `llm_profile` (no env override).

# Approval gate (human-in-the-loop)
# If true, approval artifacts must be created and approved before apply
APPROVAL_REQUIRED=true
# If true, require review step before approval (if review is enabled/available)
REVIEW_BEFORE_APPROVAL=false
# Label used in approval artifacts / ledger to identify who approved
APPROVER_LABEL=human
# Optional explicit plan-approval gate toggle.
PLAN_APPROVAL_REQUIRED=

# Knowledge interviewer (Architect Interviewer)
# NOTE: Interviewer model is selected via `ai/LLM_PROFILES.json` + interviewer agent `llm_profile` (no env override).
# Timeout for interviewer LLM call (ms). Default: 60000
KNOWLEDGE_TIMEOUT_MS=60000
# Test-only: when true, knowledge interviewer runs without OpenAI (deterministic stub)
KNOWLEDGE_TEST_STUB=false

# Technical Writer (Phase 8)
# NOTE: Writer model is selected via `config/DOCS.json` + `ai/LLM_PROFILES.json` + writer agent `llm_profile` (no env override).
# Timeout for writer LLM call (ms). Default: 60000
WRITER_TIMEOUT_MS=60000

# Lane A runtime tuning (optional)
# Single-instance lock TTL for `--lane-a-orchestrate` in milliseconds.
LANE_A_LOCK_TTL_MS=480000
# Staleness threshold in minutes for Lane A stale/hard-stale policy.
LANE_A_STALE_THRESHOLD_MINUTES=30
# Enable Prompt Engineer skill selection + system skill injection for LLM calls.
ENABLE_SKILLS=false
# Enable Lane A skills governance loop (candidate detection/status/optional authoring).
ENABLE_SKILLS_GOVERNANCE=0
# Max number of new governance drafts per day (per project).
SKILLS_GOV_DRAFT_DAILY_CAP=10
# Minimum repos that must share a domain signal before candidate creation.
SKILLS_GOV_MIN_REUSE_REPOS=2
# Minimum evidence refs required for candidate creation.
SKILLS_GOV_MIN_EVIDENCE_REFS=3
# Optional auto-authoring from drafts (still governed by approval policy).
SKILLS_GOV_AUTO_AUTHOR=0
# Require explicit approval before any auto-authoring behavior.
SKILLS_GOV_REQUIRE_APPROVAL=1

# Web UI (minimal, passcode-gated)
# Bind and port for web server
WEB_BIND=127.0.0.1
WEB_PORT=8090
# Required secrets:
WEB_SESSION_SECRET=
# Bcrypt hash of your passcode (bcryptjs/bcrypt). Required.
# Generate (from the AI-Team repo root): node -e "import('bcryptjs').then(m=>{const b=m.default||m; console.log(b.hashSync(process.argv[1],10))})" 'YourPasscodeHere'
WEB_PASSCODE_HASH=
# Optional: set Secure cookies (recommended behind TLS)
WEB_COOKIE_SECURE=0
# CLI spawn timeout (ms). Default: 120000
WEB_CLI_TIMEOUT_MS=120000
# Optional overrides for web server CLI execution:
AI_TEAM_REPO=/opt/GitRepos/AI-Team
CLI_PATH=/opt/GitRepos/AI-Team/src/cli.js
# Smoke test only (npm run web:smoke):
WEB_URL=http://127.0.0.1:8090
WEB_PASSCODE=

# Plivo (optional)
PLIVO_AUTH_ID=
PLIVO_AUTH_TOKEN=
PLIVO_FROM=

# Twilio (optional)
TWILIO_ACCOUNT_SID=
TWILIO_AUTH_TOKEN=
TWILIO_FROM=
